<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css" />
    <script src="node_modules/codemirror/lib/codemirror.js"></script>

    <script src="cm-builder/lib/keyboardevent-util.js"></script> <!-- used by various scripts so I define early-->

    <script src="node_modules/codemirror/mode/javascript/javascript.js"></script>

    <script src="node_modules/codemirror/addon/hint/show-hint.js"></script>
    <link rel="stylesheet" href="node_modules/codemirror/addon/hint/show-hint.css">
    <script src="node_modules/codemirror/addon/hint/javascript-hint.js"></script>

    <script src="node_modules/codemirror/addon/edit/matchbrackets.js"></script>


    <script src="node_modules/codemirror/addon/edit/closebrackets.js"></script>

    <script src="cm-builder/addon/mode/javascript/closebrackets-patch4javascript.js"></script>

    <script src="node_modules/codemirror/addon/comment/continuecomment.js"></script>

    <script src="node_modules/codemirror/addon/fold/foldcode.js"></script>
    <script src="node_modules/codemirror/addon/fold/brace-fold.js"></script>
    <script src="node_modules/codemirror/addon/fold/xml-fold.js"></script>
    <script src="node_modules/codemirror/addon/fold/comment-fold.js"></script>
    <link rel="stylesheet" href="node_modules/codemirror/addon/fold/foldgutter.css" />
    <script src="node_modules/codemirror/addon/fold/foldgutter.js"></script>

    <script src="node_modules/codemirror/addon/dialog/dialog.js"></script>
    <link rel="stylesheet" href="node_modules/codemirror/addon/dialog/dialog.css">
    <script src="node_modules/codemirror/addon/search/searchcursor.js"></script>
    <script src="cm-builder/addon/search/search.js"></script> <!-- add search history support -->

    <script src="node_modules/codemirror/addon/search/match-highlighter.js"></script>

    <script src="node_modules/codemirror/addon/search/jump-to-line.js"></script>

    <script src="node_modules/codemirror/mode/css/css.js"></script>

    <script src="node_modules/codemirror/addon/hint/css-hint.js"></script>

    <script src="node_modules/codemirror/mode/xml/xml.js"></script>
    <script src="node_modules/codemirror/mode/htmlmixed/htmlmixed.js"></script>

    <script src="node_modules/codemirror/addon/hint/xml-hint.js"></script>
    <script src="node_modules/codemirror/addon/hint/html-hint.js"></script>

    <script src="node_modules/codemirror/addon/hint/anyword-hint.js"></script>

    <script src="node_modules/codemirror/addon/mode/loadmode.js"></script>
    <script src="node_modules/codemirror/addon/mode/overlay.js"></script> <!-- needed by some mode such as markdown -->
    <script src="node_modules/codemirror/mode/meta.js"></script>

    <script src="node_modules/codemirror/addon/edit/closetag.js"></script>


    <link rel="stylesheet" href="node_modules/codemirror/addon/lint/lint.css">
    <script src="node_modules/codemirror/addon/lint/lint.js"></script>

    <script src="node_modules/jshint/dist/jshint.js"></script>
    <script src="node_modules/codemirror/addon/lint/javascript-lint.js"></script>

    <script src="node_modules/jsonlint/lib/jsonlint.js"></script>
    <script src="node_modules/codemirror/addon/lint/json-lint.js"></script>

    <!-- csslint not very useful for the time being
      1. the default rule set is quite restrive, e.g., warning upon properties
         not in alphabetical order
      2. the CM addon css-lint.js does not expose options to customize the underlying CSSLint
      3. the distributed (as of v1.0.2) csslint.js breaks CodeMirror in browser mode, because
         it pollutes the global namespaces with dummy export and module, making CodeMirror
         mistakenly running in CommonJS mode
      4. the NPM distribution (I tried to use it once) only works in node.js environment
      <script src="third-party/csslint/csslint.js"></script> 
      <script src="node_modules/codemirror/addon/lint/css-lint.js"></script>
    -->

    <script src="node_modules/htmlhint/lib/htmlhint.js"></script>
    <script src="node_modules/codemirror/addon/lint/html-lint.js"></script>

    <script src="cm-builder/addon/misc/colnummode.js"></script>
    <script src="cm-builder/addon/execcommand/execcommand.js"></script>
    <script src="cm-builder/addon/eval/cm-eval.js"></script>

    <script src="cm-builder/addon/hint/show-hint-dialog.js"></script>  <!-- needed for execCommandInteractive's autocomplete feature -->

    <script src="node_modules/codemirror/addon/edit/trailingspace.js"></script>
    <script src="cm-builder/addon/edit/trailingspace-removal.js"></script>

    <script src="cm-builder/addon/misc/font-size.js"></script>

    <link rel="stylesheet" href="node_modules/codemirror/theme/eclipse.css" />
    <link rel="stylesheet" href="node_modules/codemirror/theme/blackboard.css" />
    <link rel="stylesheet" href="node_modules/codemirror/theme/rubyblue.css" />

    <link rel="stylesheet" href="cm-builder/addon/builder/cm-init.css"> <!-- for features in cm-init.js  -->
    <link rel="stylesheet" href="cm-customization.css"> <!-- optional customization, overriding CM defaults  -->
    <link rel="stylesheet" href="style.css"> <!-- added last to override any CM styles -->

    <script src="cm-builder/addon/builder/cm-init.js"></script>
    <script src="editor-ioctrl.js"></script>
    <script src="editor-uictrl.js"></script>
    <script src="editor-help.js"></script>
    <script src="dnd-util.js"></script>
    <script src="editor.js"></script>

</head>

<body>
<div id="win"> <!-- -->

  <div class="buttons">
    <button title="New file in new window" id="new"> <img src="img/16x16/file_add.png"/><span class="accessKey">N</span>ew  </button>
    <button title="Open file..." id="open"><img src="img/16x16/file.png"/>  <span class="accessKey">O</span>pen </button>
    <button id="openRecent" accessKey="R" title="Press Alt-R, then 0 - 9 (0 means 10), to access list of recent files.">&dtrif;</button>
    <button title="Save file" id="save" disabled><img src="img/16x16/diskette.png" /><span class="accessKey">S</span>ave </button>
    <button title="Save As another file... - disabled due to chrome app bug that new file saved is locked until entire chrome (not just the app) is closed." id="saveAs"><img src="img/16x16/diskette.png"/>Save As</button>
    <button title="Help" id="help" accessKey="h">Help</button>
    <button title="Exit editor" id="exit">X</button>
  </div>

  <div id="editor"></div>


  <div id="info" class="CodeMirror"> <!-- add CodeMirror class to have consistent fonts, etc. -->
    <label>Filename: </label><span id="title"></span>
    <label>Mode: </label><span id="mode"></span>
    <span id="_codeModeModifier"></span>
    <span id="_searchStatus" style="display: none;">
      <label>Search:</label><span id="numMatched">0</span>matched
   </span>
  </div>

   <div id="error" style="z-index: 10; width: 90%; height: auto; position: fixed; left: 30px; top: 30px;
              border: 1px solid #666666; border-radius: 12px; background-color: rgba(255, 255, 0, 0.95); padding: 6px;
              box-shadow: 6px 8px 8px #999999; display: none;">
    <!-- a text based alert icon (exclamation -->
    <div style="float: left; height: 100%; font-size: 36px; font-weight: bold; margin-right: 6px;
position: relative;top: -3px; color: white; background-color: red; border: 1px solid red; border-radius: 36px;  font-family: Verdana, sans-serif;">&nbsp;!!&nbsp;</div>
    <div id="errormsg"></div>
    <div>
      <button id="error_btn"> Ok </button>
    </div>
  </div> <!-- id="error" -->

    <!-- Help pop-in; -->
  <div id="_helpDiv" style="font-size: small; padding: 24px; z-index: 99; position: absolute; top: 50px; left: 30px;
border: 2px solid gray; border-radius: 10px; color: white; background-color: rgba(51, 51, 51, 0.95);
overflow-y: auto; height: 380px; width: 780px; display: none;" >
  <style type="text/css">
    #_helpDiv dt { color: gold; }
  </style>
  <h3 style="border-bottom: 1px solid; margin: 0px; ">Shortcuts:</h3>
  <dl>
    <dt>
      Ctrl-F / Cmd-F
    </dt>
    <dd>Start searching</dd>
    <dt>
      Ctrl-G / Cmd-G
    </dt>
    <dd>Find next</dd>
    <dt>
      Shift-Ctrl-G / Shift-Cmd-G
    </dt>
    <dd>Find previous</dd>
    <dt>
      Shift-Ctrl-F / Cmd-Option-F
    </dt>
    <dd>Replace</dd>
    <dt>
      Shift-Ctrl-R / Shift-Cmd-Option-F
    </dt>
    <dd>Replace all</dd>
    <dt>
      Ctrl-Q / Cmd-Q
    </dt>
    <dd>Fold / Unfold a block</dd>
  </dl>

  <a id="_ctl_keybindings" style="color: white;" href="javascript:void();">More key bindings >></a>

  <div id="_keybindings"></div> <!-- to be filled-in programmatically if needed -->

  <a id="_ctl_commands" style="color: white; margin-top: 12px; display: block;" href="javascript:void();">List commands >></a>

  <div id="_commands"></div> <!-- to be filled-in programmatically if needed -->

  </div> <!-- id="_helpDiv" -->

</div> <!-- id="win" -->
</body>
</html>
